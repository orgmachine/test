{"version":3,"sources":["src/app/pages/coupons/coupons.page.html","src/app/pages/coupons/coupons-routing.module.ts","src/app/pages/coupons/coupons.module.ts","src/app/pages/coupons/coupons.page.scss","src/app/pages/coupons/coupons.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-header></app-header>\\n<ion-content class=\\\"background-class\\\">\\n<div class=\\\"container\\\">\\n  <div *ngIf=\\\"list.length == 0\\\" class=\\\"noData\\\">\\n    <img src=\\\"assets/no_data_found.png\\\">\\n    <p>Sorry! No coupons available</p>\\n  </div>\\n  <div *ngIf=\\\"list.length !==0\\\">\\n    <ion-row *ngFor=\\\"let item of list\\\" class=\\\"coupons\\\" (click)=\\\"claim(item)\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"info\\\">\\n      <p class=\\\"title\\\">\\n      <span class=\\\"code\\\">{{'CODE' | translate }} : {{item.code}} <span class=\\\"claim\\\">CLAIM</span></span><br>\\n      <span class=\\\"desc\\\">{{item.desc}}</span>\\n        <br>\\n        <span class=\\\"expire\\\">Expires on: {{expire(item.expire)}}</span>\\n       </p>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  </div>\\n  <app-footer></app-footer>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CouponsPage } from './coupons.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CouponsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CouponsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CouponsPageRoutingModule } from './coupons-routing.module';\n\nimport { CouponsPage } from './coupons.page';\nimport { SharedModule } from 'src/app/directives/shared.module';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CouponsPageRoutingModule,\n    SharedModule,\n\tComponentsModule\n  ],\n  declarations: [CouponsPage]\n})\nexport class CouponsPageModule { }\n","export default \".noData {\\n  text-align: center;\\n  margin-top: 2%;\\n  font-weight: bold;\\n}\\n\\n.background-class {\\n  --ion-background-color: #f3f3f3;\\n  padding: 16px 0px;\\n}\\n\\n/*.noData{\\n    border-radius: 10px;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: contain;\\n    width: 100%;\\n    height: 250px;\\n}*/\\n\\n.coupons {\\n  /*border-bottom: 1px solid lightgray;*/\\n  background: #fff;\\n  margin-top: 10px;\\n  padding: 10px 8px;\\n}\\n\\n.coupons .info .title {\\n  margin: 0px;\\n  font-weight: bold;\\n}\\n\\n.coupons .info .title .code {\\n  font-weight: bold;\\n  line-height: 2rem;\\n  border: 1px dotted;\\n  padding: 6px;\\n  color: var(--ion-color-primary);\\n  font-size: 14px;\\n}\\n\\n.coupons .info .title .expire {\\n  font-size: 0.8rem;\\n  color: gray;\\n}\\n\\n.coupons .info .title .desc {\\n  font-size: 0.8rem;\\n  color: gray;\\n}\\n\\n.coupons .info .title .claim {\\n  float: right;\\n  color: #fff;\\n  font-size: 12px;\\n  padding: 0px 5px;\\n  border-radius: 5px;\\n  height: 32px;\\n  background: var(--ion-color-primary);\\n}\\n\\n.coupons .btns {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.sc-ion-buttons-md-s .button {\\n  --background-hover: currentColor;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY291cG9ucy9EOlxccHJvamVjdFxcd2F5MmxhYlxcV2ViZmluYWwvc3JjXFxhcHBcXHBhZ2VzXFxjb3Vwb25zXFxjb3Vwb25zLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY291cG9ucy9jb3Vwb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDQ0o7O0FEQ0E7RUFDSSwrQkFBQTtFQUNBLGlCQUFBO0FDRUo7O0FEQUE7Ozs7Ozs7RUFBQTs7QUFRQTtFQUNJLHNDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDR0o7O0FEQVE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7QUNFWjs7QUREWTtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtFQUNBLGVBQUE7QUNHaEI7O0FERFk7RUFDSSxpQkFBQTtFQUNBLFdBQUE7QUNHaEI7O0FERFk7RUFDSSxpQkFBQTtFQUNBLFdBQUE7QUNHaEI7O0FERFk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLG9DQUFBO0FDR2hCOztBREVJO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNBUjs7QURJQTtFQUNJLGdDQUFBO0VBQ0EsY0FBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY291cG9ucy9jb3Vwb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ub0RhdGF7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6MiU7XG4gICAgZm9udC13ZWlnaHQ6Ym9sZDtcbn1cbi5iYWNrZ3JvdW5kLWNsYXNze1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gICAgcGFkZGluZzogMTZweCAwcHg7XG59XG4vKi5ub0RhdGF7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyNTBweDtcbn0qL1xuLmNvdXBvbnN7XG4gICAgLypib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmF5OyovXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHBhZGRpbmc6IDEwcHggOHB4O1xuXG4gICAgLmluZm97XG4gICAgICAgIC50aXRsZXtcbiAgICAgICAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICAuY29kZXtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMnJlbTtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBkb3R0ZWQ7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmV4cGlyZXtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IC44cmVtO1xuICAgICAgICAgICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmRlc2N7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAuOHJlbTtcbiAgICAgICAgICAgICAgICBjb2xvcjogZ3JheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jbGFpbSB7XG4gICAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwcHggNXB4O1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLmJ0bnN7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbn1cblxuLnNjLWlvbi1idXR0b25zLW1kLXMgLmJ1dHRvbiB7XG4gICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiBjdXJyZW50Q29sb3I7XG4gICAgZGlzcGxheTogYmxvY2s7XG59IiwiLm5vRGF0YSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMiU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYmFja2dyb3VuZC1jbGFzcyB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gIHBhZGRpbmc6IDE2cHggMHB4O1xufVxuXG4vKi5ub0RhdGF7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyNTBweDtcbn0qL1xuLmNvdXBvbnMge1xuICAvKmJvcmRlci1ib3R0b206IDFweCBzb2xpZCBsaWdodGdyYXk7Ki9cbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgcGFkZGluZzogMTBweCA4cHg7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUge1xuICBtYXJnaW46IDBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUgLmNvZGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbGluZS1oZWlnaHQ6IDJyZW07XG4gIGJvcmRlcjogMXB4IGRvdHRlZDtcbiAgcGFkZGluZzogNnB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUgLmV4cGlyZSB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBjb2xvcjogZ3JheTtcbn1cbi5jb3Vwb25zIC5pbmZvIC50aXRsZSAuZGVzYyB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBjb2xvcjogZ3JheTtcbn1cbi5jb3Vwb25zIC5pbmZvIC50aXRsZSAuY2xhaW0ge1xuICBmbG9hdDogcmlnaHQ7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXNpemU6IDEycHg7XG4gIHBhZGRpbmc6IDBweCA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uY291cG9ucyAuYnRucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uc2MtaW9uLWJ1dHRvbnMtbWQtcyAuYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kLWhvdmVyOiBjdXJyZW50Q29sb3I7XG4gIGRpc3BsYXk6IGJsb2NrO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ApisService } from 'src/app/services/apis.service';\nimport * as moment from 'moment';\nimport { ActivatedRoute } from '@angular/router';\nimport { UtilService } from 'src/app/services/util.service';\nimport { NavController, MenuController } from '@ionic/angular';\nimport {parse, stringify, toJSON, fromJSON} from 'flatted';\n@Component({\n  selector: 'app-coupons',\n  templateUrl: './coupons.page.html',\n  styleUrls: ['./coupons.page.scss'],\n})\nexport class CouponsPage implements OnInit {\n  list: any[] = [];\n  societyId: any;\n  society_name: any;\n  total: any;\n  dummy = Array(10);\n  usedCoupon: any = [];\n  labdata: any = [];\n  cartdata: any = [];\n  labid = \"\";\n  constructor(\n    private api: ApisService,\n    private route: ActivatedRoute,\n    private util: UtilService,\n    private navCtrl: NavController,\n\tpublic menu: MenuController\n  ) {\n\t  //this.menu.enable(false);\n    this.getCoupon();\n    this.getOffers();\n  }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(data => {\n     \n     this.labdata = localStorage.getItem('labid'); \n      this.cartdata = parse(localStorage.getItem('cartdata')); \n      this.labid = this.labdata;\n     \n    });\n  }\n\n  getCoupon() {\n    const uid = sessionStorage.getItem('uid');\n    this.api.getUsedCoupon(uid).then(data => {\n      console.log('list=====>', data);\n      if (data) {\n       this.usedCoupon = data;\n      }\n    }).catch(error => {\n      this.dummy = [];\n      console.log(error);\n    });\n  }\n  \n  getOffers() {\n    this.api.getOffers().then(data => {\n      this.dummy = [];\n      console.log('list=====>', data);\n      this.list = [];\n      if (data && data.length) {\n        const currnetDate = moment().subtract(1, 'days').format('YYYY-MM-DD');\n         console.log(currnetDate);\n        data.forEach(element => {\n          console.log(moment(element.expire).isAfter(currnetDate));\n        /*  if (element && element.status == 1 && moment(element.expire).isAfter(currnetDate) && element.coupon_type == 'discount_on_bill') {*/\n        if (element && element.status == 1 && moment(element.expire).isAfter(currnetDate) ) {\n            console.log(element.branch);\n             var lab_exist = 0;\n             for(var x of element.branch){\n              if(x.item_id == this.labid){\n                lab_exist = 1;\n              }\n             }\n             if(lab_exist == 1){\n                this.list.push(element);  \n             }\n            console.log('yes=>', element);\n            \n          }\n        });\n        // this.list = data;\n      }\n    }).catch(error => {\n      this.dummy = [];\n      console.log(error);\n    });\n  }\n  \n  claim(item) {\n    console.log(item);\n    if (item && item.status == 1) {\n    \n      console.log(this.cartdata.selling_price+'>='+item.min);\n     \n        if (this.cartdata.selling_price >= item.min) {\n          if(this.usedCoupon.length != 0) {\n           const uid = sessionStorage.getItem('uid');\n            console.log(uid,item.id)\n            this.api.getUsedCouponById(uid,item.id).then((data) => {\n              console.log(data)\n              if(data && data.length) {\n               if(data[0].used_coupon < item.limit) {\n                  this.util.showToast('Coupon Applied', 'success', 'bottom');\n                  this.util.publishCoupon(item);\n                  this.navCtrl.back();\n                } else {\n                  console.log('hi')\n                  this.util.errorToast('Coupon limits exceeded ' + item.limit);\n              }\n             } else {\n                this.util.showToast('Coupon Applied', 'success', 'bottom');\n                this.util.publishCoupon(item);\n                this.navCtrl.back();\n             }\n            }).catch(err => {\n              if (err) {\n                console.log(err);\n                this.util.showToast(`${err}`, 'danger', 'bottom');\n              }\n            });\n       \n      } else {\n          console.log('coupon not empty')\n          this.util.showToast('Coupon Applied', 'success', 'bottom');\n          this.util.publishCoupon(item);\n          this.navCtrl.back();\n       }\n      } else {\n          this.util.errorToast('For claiming this coupon your order required minimum order  of ₹' + item.min);\n        }\n      // } else {\n      //   this.util.errorToast('This coupon is not valid for ' + this.society_name);\n      // }\n    } else {\n      this.util.errorToast('This coupon is not valid for ' + this.society_name);\n    }\n  }\n  expire(date) {\n    return moment(date).format('llll');\n  }\n\n  getCurrency() {\n    return this.util.getCurrecySymbol();\n  }\n}\n"],"sourceRoot":"webpack:///","file":"pages-coupons-coupons-module-es5.js"}