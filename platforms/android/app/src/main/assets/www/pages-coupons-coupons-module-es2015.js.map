{"version":3,"sources":["./src/app/pages/coupons/coupons.page.html","./src/app/pages/coupons/coupons-routing.module.ts","./src/app/pages/coupons/coupons.module.ts","./src/app/pages/coupons/coupons.page.scss","./src/app/pages/coupons/coupons.page.ts"],"names":[],"mappings":"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","file":"pages-coupons-coupons-module-es2015.js","sourcesContent":["export default \"<app-header></app-header>\\n<ion-content class=\\\"background-class\\\">\\n<div class=\\\"container\\\">\\n  <div *ngIf=\\\"list.length == 0\\\" class=\\\"noData\\\">\\n    <img src=\\\"assets/no_data_found.png\\\">\\n    <p>Sorry! No coupons available</p>\\n  </div>\\n  <div *ngIf=\\\"list.length !==0\\\">\\n    <ion-row *ngFor=\\\"let item of list\\\" class=\\\"coupons\\\" (click)=\\\"claim(item)\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"info\\\">\\n      <p class=\\\"title\\\">\\n      <span class=\\\"code\\\">{{'CODE' | translate }} : {{item.code}} <span class=\\\"claim\\\">CLAIM</span></span><br>\\n      <span class=\\\"desc\\\">{{item.desc}}</span>\\n        <br>\\n        <span class=\\\"expire\\\">Expires on: {{expire(item.expire)}}</span>\\n       </p>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  </div>\\n  <app-footer></app-footer>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CouponsPage } from './coupons.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CouponsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CouponsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CouponsPageRoutingModule } from './coupons-routing.module';\n\nimport { CouponsPage } from './coupons.page';\nimport { SharedModule } from 'src/app/directives/shared.module';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CouponsPageRoutingModule,\n    SharedModule,\n\tComponentsModule\n  ],\n  declarations: [CouponsPage]\n})\nexport class CouponsPageModule { }\n","export default \".noData {\\n  text-align: center;\\n  margin-top: 2%;\\n  font-weight: bold;\\n}\\n\\n.background-class {\\n  --ion-background-color: #f3f3f3;\\n  padding: 16px 0px;\\n}\\n\\n/*.noData{\\n    border-radius: 10px;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: contain;\\n    width: 100%;\\n    height: 250px;\\n}*/\\n\\n.coupons {\\n  /*border-bottom: 1px solid lightgray;*/\\n  background: #fff;\\n  margin-top: 10px;\\n  padding: 10px 8px;\\n}\\n\\n.coupons .info .title {\\n  margin: 0px;\\n  font-weight: bold;\\n}\\n\\n.coupons .info .title .code {\\n  font-weight: bold;\\n  line-height: 2rem;\\n  border: 1px dotted;\\n  padding: 6px;\\n  color: var(--ion-color-primary);\\n  font-size: 14px;\\n}\\n\\n.coupons .info .title .expire {\\n  font-size: 0.8rem;\\n  color: gray;\\n}\\n\\n.coupons .info .title .desc {\\n  font-size: 0.8rem;\\n  color: gray;\\n}\\n\\n.coupons .info .title .claim {\\n  float: right;\\n  color: #fff;\\n  font-size: 12px;\\n  padding: 0px 5px;\\n  border-radius: 5px;\\n  height: 32px;\\n  background: var(--ion-color-primary);\\n}\\n\\n.coupons .btns {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.sc-ion-buttons-md-s .button {\\n  --background-hover: currentColor;\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY291cG9ucy9EOlxccHJvamVjdFxcd2F5MmxhYlxcV2ViZmluYWwvc3JjXFxhcHBcXHBhZ2VzXFxjb3Vwb25zXFxjb3Vwb25zLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY291cG9ucy9jb3Vwb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDQ0o7O0FEQ0E7RUFDSSwrQkFBQTtFQUNBLGlCQUFBO0FDRUo7O0FEQUE7Ozs7Ozs7RUFBQTs7QUFRQTtFQUNJLHNDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDR0o7O0FEQVE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7QUNFWjs7QUREWTtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtFQUNBLGVBQUE7QUNHaEI7O0FERFk7RUFDSSxpQkFBQTtFQUNBLFdBQUE7QUNHaEI7O0FERFk7RUFDSSxpQkFBQTtFQUNBLFdBQUE7QUNHaEI7O0FERFk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLG9DQUFBO0FDR2hCOztBREVJO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNBUjs7QURJQTtFQUNJLGdDQUFBO0VBQ0EsY0FBQTtBQ0RKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY291cG9ucy9jb3Vwb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ub0RhdGF7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6MiU7XG4gICAgZm9udC13ZWlnaHQ6Ym9sZDtcbn1cbi5iYWNrZ3JvdW5kLWNsYXNze1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gICAgcGFkZGluZzogMTZweCAwcHg7XG59XG4vKi5ub0RhdGF7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyNTBweDtcbn0qL1xuLmNvdXBvbnN7XG4gICAgLypib3JkZXItYm90dG9tOiAxcHggc29saWQgbGlnaHRncmF5OyovXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIHBhZGRpbmc6IDEwcHggOHB4O1xuXG4gICAgLmluZm97XG4gICAgICAgIC50aXRsZXtcbiAgICAgICAgICAgIG1hcmdpbjogMHB4O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICAuY29kZXtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMnJlbTtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBkb3R0ZWQ7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogNnB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmV4cGlyZXtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IC44cmVtO1xuICAgICAgICAgICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmRlc2N7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAuOHJlbTtcbiAgICAgICAgICAgICAgICBjb2xvcjogZ3JheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5jbGFpbSB7XG4gICAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwcHggNXB4O1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLmJ0bnN7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbn1cblxuLnNjLWlvbi1idXR0b25zLW1kLXMgLmJ1dHRvbiB7XG4gICAgLS1iYWNrZ3JvdW5kLWhvdmVyOiBjdXJyZW50Q29sb3I7XG4gICAgZGlzcGxheTogYmxvY2s7XG59IiwiLm5vRGF0YSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogMiU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYmFja2dyb3VuZC1jbGFzcyB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gIHBhZGRpbmc6IDE2cHggMHB4O1xufVxuXG4vKi5ub0RhdGF7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAyNTBweDtcbn0qL1xuLmNvdXBvbnMge1xuICAvKmJvcmRlci1ib3R0b206IDFweCBzb2xpZCBsaWdodGdyYXk7Ki9cbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgcGFkZGluZzogMTBweCA4cHg7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUge1xuICBtYXJnaW46IDBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUgLmNvZGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbGluZS1oZWlnaHQ6IDJyZW07XG4gIGJvcmRlcjogMXB4IGRvdHRlZDtcbiAgcGFkZGluZzogNnB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uY291cG9ucyAuaW5mbyAudGl0bGUgLmV4cGlyZSB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBjb2xvcjogZ3JheTtcbn1cbi5jb3Vwb25zIC5pbmZvIC50aXRsZSAuZGVzYyB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBjb2xvcjogZ3JheTtcbn1cbi5jb3Vwb25zIC5pbmZvIC50aXRsZSAuY2xhaW0ge1xuICBmbG9hdDogcmlnaHQ7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXNpemU6IDEycHg7XG4gIHBhZGRpbmc6IDBweCA1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgaGVpZ2h0OiAzMnB4O1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uY291cG9ucyAuYnRucyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uc2MtaW9uLWJ1dHRvbnMtbWQtcyAuYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kLWhvdmVyOiBjdXJyZW50Q29sb3I7XG4gIGRpc3BsYXk6IGJsb2NrO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ApisService } from 'src/app/services/apis.service';\nimport * as moment from 'moment';\nimport { ActivatedRoute } from '@angular/router';\nimport { UtilService } from 'src/app/services/util.service';\nimport { NavController, MenuController } from '@ionic/angular';\nimport {parse, stringify, toJSON, fromJSON} from 'flatted';\n@Component({\n  selector: 'app-coupons',\n  templateUrl: './coupons.page.html',\n  styleUrls: ['./coupons.page.scss'],\n})\nexport class CouponsPage implements OnInit {\n  list: any[] = [];\n  societyId: any;\n  society_name: any;\n  total: any;\n  dummy = Array(10);\n  usedCoupon: any = [];\n  labdata: any = [];\n  cartdata: any = [];\n  labid = \"\";\n  constructor(\n    private api: ApisService,\n    private route: ActivatedRoute,\n    private util: UtilService,\n    private navCtrl: NavController,\n\tpublic menu: MenuController\n  ) {\n\t  //this.menu.enable(false);\n    this.getCoupon();\n    this.getOffers();\n  }\n\n  ngOnInit() {\n    this.route.queryParams.subscribe(data => {\n     \n     this.labdata = localStorage.getItem('labid'); \n      this.cartdata = parse(localStorage.getItem('cartdata')); \n      this.labid = this.labdata;\n     \n    });\n  }\n\n  getCoupon() {\n    const uid = sessionStorage.getItem('uid');\n    this.api.getUsedCoupon(uid).then(data => {\n      console.log('list=====>', data);\n      if (data) {\n       this.usedCoupon = data;\n      }\n    }).catch(error => {\n      this.dummy = [];\n      console.log(error);\n    });\n  }\n  \n  getOffers() {\n    this.api.getOffers().then(data => {\n      this.dummy = [];\n      console.log('list=====>', data);\n      this.list = [];\n      if (data && data.length) {\n        const currnetDate = moment().subtract(1, 'days').format('YYYY-MM-DD');\n         console.log(currnetDate);\n        data.forEach(element => {\n          console.log(moment(element.expire).isAfter(currnetDate));\n        /*  if (element && element.status == 1 && moment(element.expire).isAfter(currnetDate) && element.coupon_type == 'discount_on_bill') {*/\n        if (element && element.status == 1 && moment(element.expire).isAfter(currnetDate) ) {\n            console.log(element.branch);\n             var lab_exist = 0;\n             for(var x of element.branch){\n              if(x.item_id == this.labid){\n                lab_exist = 1;\n              }\n             }\n             if(lab_exist == 1){\n                this.list.push(element);  \n             }\n            console.log('yes=>', element);\n            \n          }\n        });\n        // this.list = data;\n      }\n    }).catch(error => {\n      this.dummy = [];\n      console.log(error);\n    });\n  }\n  \n  claim(item) {\n    console.log(item);\n    if (item && item.status == 1) {\n    \n      console.log(this.cartdata.selling_price+'>='+item.min);\n     \n        if (this.cartdata.selling_price >= item.min) {\n          if(this.usedCoupon.length != 0) {\n           const uid = sessionStorage.getItem('uid');\n            console.log(uid,item.id)\n            this.api.getUsedCouponById(uid,item.id).then((data) => {\n              console.log(data)\n              if(data && data.length) {\n               if(data[0].used_coupon < item.limit) {\n                  this.util.showToast('Coupon Applied', 'success', 'bottom');\n                  this.util.publishCoupon(item);\n                  this.navCtrl.back();\n                } else {\n                  console.log('hi')\n                  this.util.errorToast('Coupon limits exceeded ' + item.limit);\n              }\n             } else {\n                this.util.showToast('Coupon Applied', 'success', 'bottom');\n                this.util.publishCoupon(item);\n                this.navCtrl.back();\n             }\n            }).catch(err => {\n              if (err) {\n                console.log(err);\n                this.util.showToast(`${err}`, 'danger', 'bottom');\n              }\n            });\n       \n      } else {\n          console.log('coupon not empty')\n          this.util.showToast('Coupon Applied', 'success', 'bottom');\n          this.util.publishCoupon(item);\n          this.navCtrl.back();\n       }\n      } else {\n          this.util.errorToast('For claiming this coupon your order required minimum order  of â‚¹' + item.min);\n        }\n      // } else {\n      //   this.util.errorToast('This coupon is not valid for ' + this.society_name);\n      // }\n    } else {\n      this.util.errorToast('This coupon is not valid for ' + this.society_name);\n    }\n  }\n  expire(date) {\n    return moment(date).format('llll');\n  }\n\n  getCurrency() {\n    return this.util.getCurrecySymbol();\n  }\n}\n"],"sourceRoot":"webpack:///"}